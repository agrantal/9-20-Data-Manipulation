---
title: "9-20 Data Manipulation"
output: html_document
---
```{r}
library(tidyverse)

options(tibble.print_min = 3)

getwd()


litters_data = read_csv(file = "./data_import_files/FAS_litters.csv",
  col_types = "ccddiiii") 
# remember from last lecture, the file directory above is abbreviated  
  
litters_data = janitor::clean_names(litters_data)

pups_data = read_csv("./data_import_files/FAS_pups.csv",
  col_types = "ciiiii")
pups_data = janitor::clean_names(pups_data)

select(litters_data, group, litter_number, gd0_weight, pups_born_alive)
select(litters_data, group:gd_of_birth)
select(litters_data, -pups_survive) #add a negative sign to remove pups_survive
select(litters_data, GROUP = group, LiTtEr_NuMbEr = litter_number) #select before renaming
rename(litters_data, GROUP = group, LiTtEr_NuMbEr = litter_number) #rename variables. more useful for changing only a couple vars bc by hand
select(litters_data, litter_number, group, everything()) #currently the group values are on the far left hand side of the dataset. use this to select and move all of the litter_number obs from the second-to-left column position to the far left position. 
select (litters_data, starts_with("gd")) #select all obs in the litters_data that starts with "gd". Other commands include "contains(), ends_with(), etc" - can look up more in the help tab 
select(pups_data, litter_number, sex, pd_ears) #select the columns containing litter number, sex, and PD ears

#examples of filters:
filter(pups_data, gd_of_birth == 20)
filter(pups_data, pups_born_alive >= 2)
filter(pups_data, pups_survive != 4           # ! negates what follows it 
filter(pups_data, !(pups_survive == 4)
filter(pups_data, group %in% c("Con7", "Con8")    #could also write group == "Con7"" | group == "Con8"   |=or, &=and 
filter(pups_data, group == "Con7" & gd_of_birth == 20
filter(pups_data, !is.na(wt_increase)         # na = missing obs
       
filter(pups_data, sex == 1)   #Filter to include only pups with sex 1
filter(pups_data, sex == 2, pd_walk < 11) #include only pups with PD walk less than 11 and sex 2
```
